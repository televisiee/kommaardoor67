<!--
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################


nee pap geen spoilers 


######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
######################
--> 

<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kommaardoor67</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root {
  --c64-bg: #0000AA;
  --c64-text: #80FFFF;
  --c64-font: 'Press Start 2P', monospace;
  --c64-border: #80FFFF;
}
* { box-sizing: border-box; margin:0; padding:0; }

html, body {
  height:100%;
  width:100%;
  background-color: var(--c64-bg);
  color: var(--c64-text);
  font-family: var(--c64-font);
  font-size: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  padding: 20px;
  position: relative;
}

/* Fullscreen border */
body::before {
  content:"";
  position:absolute;
  inset:0;
  border: 40px solid var(--c64-border);
  pointer-events:none;
  z-index:100;
}

/* CRT bolling + glow */
body::after {
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at center, rgba(128,255,255,0.15) 0%, rgba(0,0,0,0.6) 80%);
  mix-blend-mode: lighten;
  pointer-events:none;
  z-index:50;
  transform: scale(1.05);
  border-radius: 50% / 35%;
}

/* Scanlines */
.scanlines {
  position:absolute;
  inset:0;
  background: repeating-linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.2) 1px, transparent 1px, transparent 3px);
  z-index:60;
  pointer-events:none;
}

/* Frame */
.frame { width:100%; height:100%; overflow:auto; position:relative; z-index:5; }
.content { width:100%; display:block; }

/* Boot text */
.boot { white-space: pre-wrap; line-height:1.6; font-size:1rem; }
.cursor { display:inline-block; width:10px; background-color: var(--c64-text); animation: blink 0.8s steps(2,start) infinite; margin-left:2px; }
@keyframes blink { 0%,50%,100%{background-color:var(--c64-text);}25%,75%{background-color:transparent;} }

/* Hidden elements initially */
.hidden { opacity:0; }
.typed { opacity:1; transition: opacity 0.3s; }

h1 { font-size: 1.6rem; margin:10px 0; }
.units { display:flex; gap:15px; flex-wrap:wrap; margin:10px 0; }
.unit .number { font-size:1.4rem; }
.grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); gap:8px; margin:10px 0; }
.box { border:1px solid var(--c64-text); padding:12px; font-size:0.9rem; text-align:center; cursor:default; transition: background 0.3s; }
.box:hover { background-color: rgba(255,255,255,0.1); }
.box.available { background-color: rgba(128,255,255,0.2); cursor:pointer; }

h2 { font-size:1rem; margin-top:1rem; }

/* Popup overlay */
.popup-overlay {
  position: fixed; inset:0;
  background: rgba(0,0,0,0.85);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2000;
  opacity:0;
  pointer-events:none;
  transition: opacity 0.4s ease-in-out;
}
.popup-overlay.active { opacity:1; pointer-events:auto; animation:flicker 0.15s steps(2,end) 3; }
.popup-box {
  background: var(--c64-bg);
  border: 6px solid var(--c64-border);
  padding: 20px;
  max-width:500px;
  width:80%;
  text-align:center;
  color: var(--c64-text);
  font-family: var(--c64-font);
  font-size:0.9rem;
  line-height:1.6;
  position: relative;
  animation: glitch 1s infinite;
}
.popup-close { position:absolute; top:5px; right:10px; cursor:pointer; color:var(--c64-text); font-size:0.8rem; text-transform:uppercase; }

@keyframes flicker {0%,100%{opacity:1}50%{opacity:0}}
@keyframes glitch {0%{text-shadow:1px 0 red,-1px 0 cyan;}20%{text-shadow:-2px 0 red,2px 0 cyan;}40%{text-shadow:1px 0 red,-1px 0 cyan;}60%{text-shadow:-1px 0 red,1px 0 cyan;}80%{text-shadow:2px 0 red,-2px 0 cyan;}100%{text-shadow:1px 0 red,-1px 0 cyan;}}
.typewriter { display:inline-block; border-right:2px solid var(--c64-text); white-space:pre-wrap; overflow:hidden; }

/* Mobile */
@media(max-width:768px){ html,body{font-size:14px;} .box{padding:10px; font-size:0.8rem;} }
@media(max-width:480px){ html,body{font-size:16px;} .grid{grid-template-columns:repeat(2,1fr);} .box{padding:12px;} }
</style>
</head>
<body>

<div class="frame">
  <div class="content">
    <pre class="boot" id="boot"><span id="boot-text"></span><span class="cursor"></span></pre>
    <h1 id="title" class="hidden">Kommaardoor67</h1>
    <div id="countdown" class="units hidden">
      <div class="unit"><div id="days" class="number">--</div></div>
      <div class="unit"><div id="hours" class="number">--</div></div>
      <div class="unit"><div id="minutes" class="number">--</div></div>
      <div class="unit"><div id="seconds" class="number">--</div></div>
    </div>
    <div class="grid hidden" id="grid">
      <div class="box" id="box1">OKT</div>
      <div class="box" id="box2">NOV</div>
      <div class="box" id="box3">DEC</div>
      <div class="box" id="box4">JAN</div>
      <div class="box" id="box5">FEB</div>
      <div class="box" id="box6">MAR</div>
      <div class="box" id="box7">APR</div>
      <div class="box" id="box8">MEI</div>
      <div class="box" id="box9">JUN</div>
      <div class="box" id="box10">JUL</div>
      <div class="box" id="box11">AUG</div>
      <div class="box" id="box12">SEP</div>
    </div>
  </div>
</div>

<div class="scanlines"></div>

<!-- Popup overlay -->
<div id="popup" class="popup-overlay">
  <div class="popup-box">
    <div class="popup-close" onclick="closePopup()">[X]</div>
    <div id="popup-content" class="typewriter"></div>
  </div>
</div>

<script>
// Boot-up animatie
const bootText = `**** COMMODORE 64 BASIC V2 ****  
64K RAM SYSTEM  38911 BASIC BYTES FREE  
READY.\n\n`;
const bootElement = document.getElementById("boot-text");
const title = document.getElementById("title");
const countdown = document.getElementById("countdown");
const grid = document.getElementById("grid");

function typeWriter(element, text, i, callback) {
  if(i<text.length){ element.textContent += text.charAt(i); setTimeout(()=>typeWriter(element,text,i+1,callback),40);}
  else if(callback) callback();
}

typeWriter(bootElement, bootText, 0, ()=>{
  title.classList.add('typed');
  setTimeout(()=>countdown.classList.add('typed'),500);
  setTimeout(()=>grid.classList.add('typed'),1000);
});

// Countdown
const targetDate = new Date(2026,8,22,0,0,0);
function pad(n){return String(n).padStart(2,'0');}

function updateCountdown(){
  const now=new Date();
  const diff=targetDate-now;
  if(diff<=0){document.getElementById('countdown').innerHTML="<h2>üéâ Pensioen bereikt!</h2>"; clearInterval(intervalId); return;}
  const s=Math.floor(diff/1000);
  const days=Math.floor(s/(24*3600));
  const hours=Math.floor((s%(24*3600))/3600);
  const minutes=Math.floor((s%3600)/60);
  const seconds=s%60;
  document.getElementById('days').textContent=days;
  document.getElementById('hours').textContent=pad(hours);
  document.getElementById('minutes').textContent=pad(minutes);
  document.getElementById('seconds').textContent=pad(seconds);
}
updateCountdown();
const intervalId=setInterval(updateCountdown,1000);

// Cadeaudozen
const giftDates=[
  new Date(2025,8,22),new Date(2025,9,1),new Date(2025,10,1),
  new Date(2025,11,1),new Date(2026,0,1),new Date(2026,1,1),
  new Date(2026,2,1),new Date(2026,3,1),new Date(2026,4,1),
  new Date(2026,5,1),new Date(2026,6,1),new Date(2026,7,1)
];

giftDates.forEach((date,i)=>{
  const box=document.getElementById(`box${i+1}`);
  function updateBox(){
    const now=new Date();
    const diff=date-now;
    if(diff>0){
      const days=Math.floor(diff/(1000*60*60*24));
      box.textContent=days+" dagen";
    } else {
      box.textContent="Klik voor cadeau "+(i+1);
      box.classList.add("available");
      box.onclick=()=>{
        if(i===0){
          openPopup("Henry geeft je eerste cadeautje voor dit feest daar waar je ook de handleiding leest.");
        } else { openPopup("üéÅ Cadeau "+(i+1)+" geopend!"); }
        box.textContent="üéÅ Cadeau "+(i+1);
        box.onclick=null;
      };
    }
  }
  updateBox();
  setInterval(updateBox,60000);
});

// Popup
function openPopup(text){
  const popup=document.getElementById("popup");
  const content=document.getElementById("popup-content");
  content.innerHTML="";
  popup.classList.add("active");
  typeWriter(content,text,0);
}
function closePopup(){document.getElementById("popup").classList.remove("active");}

// Typewriter helper
function typeWriter(el,text,i){if(i<text.length){el.innerHTML+=text.charAt(i);setTimeout(()=>typeWriter(el,text,i+1),50);}}
</script>

</body>
</html>
