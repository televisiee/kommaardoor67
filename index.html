<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kommaardoor67</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:monoscript;background:#001f3f;color:#fff}
    .bgvideo{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;border:0;pointer-events:none}
    .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.35);z-index:-1}
    .countdown-container{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;gap:20px;padding:40px}
    h1{font-size:2.4rem}
    .units{display:grid;grid-template-columns:repeat(4,auto);gap:18px}
    .unit{background:rgba(0,0,0,0.3);padding:18px;border-radius:10px;min-width:90px;text-align:center}
    .unit .number{font-family:'Courier New',monospace;font-size:2.4rem;font-weight:700}
    .grid-container{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-top:20px;width:90%;max-width:900px}
    .grid-item{background:rgba(0,0,0,0.45);padding:18px;border-radius:10px;min-height:100px;display:flex;align-items:center;justify-content:center;cursor:pointer}
    @media(max-width:900px){.grid-container{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:600px){.units{grid-template-columns:repeat(2,auto)}.grid-container{grid-template-columns:1fr}}
    canvas#confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}
    a{color:#fff}
  </style>
</head>
<body>
  <!-- achtergrond als iframe (zoals eerder) -->
  <iframe class="bgvideo" src="https://upload.wikimedia.org/wikipedia/commons/6/69/RotterdamMaasNederland.jpg" frameborder="0" allowfullscreen></iframe>
  <div class="overlay"></div>

  <div class="countdown-container">
    <h1>Kommaardoor67</h1>
    <div id="countdown" class="units">
      <div class="unit"><div id="days" class="number">--</div></div>
      <div class="unit"><div id="hours" class="number">--</div></div>
      <div class="unit"><div id="minutes" class="number">--</div></div>
      <div class="unit"><div id="seconds" class="number">--</div></div>
    </div>

    <div class="grid-container">
      <div id="gift1" class="grid-item">22-09-2025</div>
      <div id="gift2" class="grid-item">Vakje 2</div>
      <div class="grid-item">Vakje 3</div>
      <div class="grid-item">Vakje 4</div>
      <div class="grid-item">Vakje 5</div>
      <div class="grid-item">Vakje 6</div>
      <div class="grid-item">Vakje 7</div>
      <div class="grid-item">Vakje 8</div>
      <div class="grid-item">Vakje 9</div>
      <div class="grid-item">Vakje 10</div>
      <div class="grid-item">Vakje 11</div>
      <div class="grid-item">Vakje 12</div>
    </div>
  </div>

  <canvas id="confetti"></canvas>

  <script>
    // hoofddatum
    const targetDate = new Date(2026,8,1,0,0,0);

    // confetti setup
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('3d');
    function resizeCanvas(){confettiCanvas.width=window.innerWidth;confettiCanvas.height=window.innerHeight}
    window.addEventListener('resize',resizeCanvas);resizeCanvas();

    let confettiParticles=[];let confettiInterval=null;let confettiTimeout=null;
    function createConfetti(){confettiParticles=[];for(let i=0;i<200;i++){confettiParticles.push({x:Math.random()*confettiCanvas.width,y:Math.random()*confettiCanvas.height- confettiCanvas.height,r:Math.random()*6+4,d:Math.random()*200+50,color:`hsl(${Math.random()*360},100%,50%)`,tilt:Math.random()*10-10,tiltAngleIncrement:Math.random()*0.07+0.05,tiltAngle:0});}}
    function drawConfetti(){ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);confettiParticles.forEach(p=>{ctx.beginPath();ctx.lineWidth=p.r;ctx.strokeStyle=p.color;ctx.moveTo(p.x+p.tilt+p.r/2,p.y);ctx.lineTo(p.x+p.tilt,p.y+p.tilt+p.r/2);ctx.stroke()});updateConfetti();}
    function updateConfetti(){confettiParticles.forEach(p=>{p.tiltAngle+=p.tiltAngleIncrement;p.y+=(Math.cos(p.d)+3+p.r/2)/2;p.x+=Math.sin(p.d);p.tilt=Math.sin(p.tiltAngle)*15;if(p.y>confettiCanvas.height){p.x=Math.random()*confettiCanvas.width;p.y=-10}})}
    function startConfetti(){if(confettiInterval)clearInterval(confettiInterval);if(confettiTimeout)clearTimeout(confettiTimeout);createConfetti();confettiInterval=setInterval(drawConfetti,20);confettiTimeout=setTimeout(()=>{clearInterval(confettiInterval);confettiInterval=null;ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);},10000)}

    // hoofdcountdown update
    function pad(n){return String(n).padStart(2,'0')}
    function updateCountdown(){const now=new Date();const diff=targetDate-now;if(diff<=0){document.getElementById('countdown').innerHTML='<h2>ðŸŽ‰ Pensioen bereikt!</h2>';clearInterval(mainInterval);startConfetti();return}const secondsTotal=Math.floor(diff/1000);const days=Math.floor(secondsTotal/(24*3600));const hours=Math.floor((secondsTotal%(24*3600))/3600);const minutes=Math.floor((secondsTotal%3600)/60);const seconds=secondsTotal%60;document.getElementById('days').textContent=days;document.getElementById('hours').textContent=pad(hours);document.getElementById('minutes').textContent=pad(minutes);document.getElementById('seconds').textContent=pad(seconds)}
    updateCountdown();const mainInterval=setInterval(updateCountdown,1000);

    // gift1: aftellen tot 22 sep 2025
    const gift1El=document.getElementById('gift1');
    const gift1Date=new Date(2025,8,22,0,0,0);
    function updateGift1(){const now=new Date();const diff=gift1Date-now; if(diff>0){const days=Math.floor(diff/(1000*60*60*24));gift1El.textContent=days+' dagen'} else {gift1El.textContent='Klik voor cadeau 1'; gift1El.onclick=()=>{startConfetti(); gift1El.textContent='Cadeau 1'; gift1El.onclick=null}}}
    updateGift1(); setInterval(updateGift1,1000);

    // gift2: voorbeeld
    const gift2El=document.getElementById('gift2'); gift2El.addEventListener('click',()=>{startConfetti(); gift2El.textContent='Open cadeautje #2';});

  </script>
</body>
</html>
